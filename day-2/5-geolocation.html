<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geolocation</title>

    <script>
        addEventListener('load', init);

        function init() {
            // check for if geolocation is supported
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(successFunction, errorFuntion, {
                    enableHighAccuracy: true,
                    timeout: 4000,
                    maximumAge: 5000
                });
            } else {
                alert('Sorry, your browser does not support geolocation');
            }
        }

        // success callback - returns response for successful request
        function successFunction(pos) {
            document.getElementById('rt').textContent = pos.timestamp;
            document.getElementById('lat').textContent = pos.coords.latitude;
            document.getElementById('lon').textContent = pos.coords.longitude;
            document.getElementById('acc').textContent = pos.coords.accuracy;
        }

        // Error function - will return error message if error occurs
        function errorFuntion(err) {
            document.getElementById('err').textContent = err.message;
        }
    </script>

</head>

<body>
    <h1>Request Time: <span id="rt"></span></h1>
    <h2>Latitude: <span id="lat"></span></h2>
    <h2>Longitude: <span id="lon"></span></h2>
    <h2>Accuracy: <span id="acc"></span></h2>

    <hr />

    <h1>Error: <span id="err"></span></h1>
</body>

</html>